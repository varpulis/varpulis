<svg xmlns="http://www.w3.org/2000/svg" width="700" height="300" viewBox="0 0 700 300">
  <defs>
    <marker id="arrowSolid" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#616161"/>
    </marker>
    <marker id="arrowDashed" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#616161"/>
    </marker>
  </defs>

  <rect width="700" height="300" fill="#FFFFFF"/>

  <!-- Lifeline: Coordinator -->
  <rect x="50" y="20" width="130" height="36" rx="6" ry="6" fill="#1A73E8" stroke="#424242" stroke-width="1.5"/>
  <text x="115" y="44" text-anchor="middle" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF">Coordinator</text>
  <line x1="115" y1="56" x2="115" y2="280" stroke="#424242" stroke-width="1.5" stroke-dasharray="6,4"/>

  <!-- Lifeline: NATS -->
  <rect x="280" y="20" width="120" height="36" rx="6" ry="6" fill="#1A73E8" stroke="#424242" stroke-width="1.5"/>
  <text x="340" y="44" text-anchor="middle" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF">NATS</text>
  <line x1="340" y1="56" x2="340" y2="280" stroke="#424242" stroke-width="1.5" stroke-dasharray="6,4"/>

  <!-- Lifeline: Worker-0 -->
  <rect x="510" y="20" width="120" height="36" rx="6" ry="6" fill="#1A73E8" stroke="#424242" stroke-width="1.5"/>
  <text x="570" y="44" text-anchor="middle" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF">Worker-0</text>
  <line x1="570" y1="56" x2="570" y2="280" stroke="#424242" stroke-width="1.5" stroke-dasharray="6,4"/>

  <!-- Step 1: Coordinator -> NATS (solid) -->
  <text x="122" y="88" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="10" fill="#212121">REQUEST varpulis.cluster.cmd.worker-0.deploy</text>
  <line x1="115" y1="94" x2="330" y2="94" stroke="#616161" stroke-width="1.5" marker-end="url(#arrowSolid)"/>

  <!-- Step 1: NATS -> Worker-0 (solid) -->
  <text x="348" y="114" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="10" fill="#212121">REQUEST varpulis.cluster.cmd.worker-0.deploy</text>
  <line x1="340" y1="120" x2="560" y2="120" stroke="#616161" stroke-width="1.5" marker-end="url(#arrowSolid)"/>

  <!-- Step 2: Worker-0 processing (activation box + annotations) -->
  <rect x="564" y="130" width="12" height="60" rx="2" ry="2" fill="#E8F0FE" stroke="#424242" stroke-width="1.5"/>
  <text x="584" y="152" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#757575">dispatch_command()</text>
  <text x="584" y="172" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#757575">handle_deploy()</text>

  <!-- Step 3: Worker-0 -> NATS (dashed) -->
  <text x="365" y="215" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#757575">REPLY {id, name, status}</text>
  <line x1="570" y1="221" x2="350" y2="221" stroke="#616161" stroke-width="1.5" stroke-dasharray="6,4" marker-end="url(#arrowDashed)"/>

  <!-- Step 3: NATS -> Coordinator (dashed) -->
  <text x="140" y="248" font-family="Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#757575">REPLY {id, name, status}</text>
  <line x1="340" y1="254" x2="125" y2="254" stroke="#616161" stroke-width="1.5" stroke-dasharray="6,4" marker-end="url(#arrowDashed)"/>
</svg>